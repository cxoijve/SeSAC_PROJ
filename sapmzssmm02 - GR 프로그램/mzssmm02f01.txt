*&---------------------------------------------------------------------*
*&  Include           MZSSMM02F01
*&---------------------------------------------------------------------*
*&---------------------------------------------------------------------*
*&      Form  MODIFY_SCREEN_0100
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM modify_screen_0100 .

  LOOP AT SCREEN.
    CASE screen-group1.
      WHEN 'GR1'.
        IF gv_screen = 1.
          screen-input = 0.
          screen-active = 0.
        ELSEIF gv_screen = 0.
          screen-input = 1.
          screen-active = 1.
        ENDIF.

      WHEN 'GR2'.
        IF gv_screen = 1.
          screen-input = 1.
          screen-active = 1.
        ELSEIF gv_screen = 0.
          screen-input = 0.
          screen-active = 0.
        ENDIF.
    ENDCASE.
    CASE screen-group2.
      WHEN 'BT1'.
        IF gv_entire_screen  = 1.
          screen-input = 0.
          screen-active = 0.
        endif.
      WHEN 'BT2'.
        IF gv_entire_screen = 0 OR gv_screen = 1.
          screen-input = 0.
          screen-active = 0.
        ENDIF.
      WHEN 'BT3'.
        IF gv_screen = 1 or gv_entire_screen = 1.
          screen-input = 0.
          screen-active = 0.
        ENDIF.
    ENDCASE.
*
    CASE screen-group3.
      WHEN 'RA1'.
        IF gv_radio_screen = 0.
          screen-input = 0.
          screen-invisible = 1.
        ELSE.
          screen-input = 1.
          screen-invisible = 0.
        ENDIF.
      WHEN 'RA2'.
        IF gv_radio_screen = 1.
          screen-input = 0.
          screen-invisible = 1.
        ELSE.
          screen-input = 1.
          screen-invisible = 0.
        ENDIF.
    ENDCASE.


*    CASE  screen-group3.
*      WHEN 'RA1'.
*        IF gv_radio_screen = 0.
*          screen-input = 0.
*          screen-invisible = 1.
*        ENDIF.
*      WHEN 'RA2'.
*        IF gv_radio_screen = 1.
*          screen-input = 0.
*          screen-invisible = 1.
*        ENDIF.
*    ENDCASE.

    MODIFY SCREEN.
  ENDLOOP.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  SET_ALV_0102
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM set_alv_0102 .

  IF go_cust_po IS INITIAL.
    PERFORM init_alv_0102.
  ELSE.
    PERFORM refresh_alv_0102.
  ENDIF.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  INIT_ALV_0102
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM init_alv_0102 .

  PERFORM create_container_0102.
  PERFORM create_alvs_0102.
  PERFORM display_alvs_0102.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  CREATE_CONTAINER_0102
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM create_container_0102 .

  " 메인화면
  PERFORM create_cust_obj USING 'CON' CHANGING go_cust_po.

  " 메인화면 왼쪽, 오른쪽으로 나누기
  PERFORM create_split_obj_cust USING go_cust_po 1 2 CHANGING go_split_po_main.
  PERFORM set_row_height USING 1 30 CHANGING go_split_po_main.
  PERFORM set_col_width USING 1 40 CHANGING go_split_po_main.


  PERFORM get_split_container USING 1 1 CHANGING go_split_po_main go_con_main.
  PERFORM get_split_container USING 1 2 CHANGING go_split_po_main go_con_po_right.

  PERFORM create_split_obj USING go_con_po_right 2 1 CHANGING go_split_po_right.

  PERFORM set_col_width USING 2 58 CHANGING go_split_po_right.
  PERFORM get_split_container USING 1 1 CHANGING go_split_po_right go_con_po_top.
  PERFORM get_split_container USING 2 1 CHANGING go_split_po_right go_con_po_bottom.


ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  CREATE_CUST_OBJ
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*      -->P_0095   text
*      <--P_GO_CUST_PO  text
*----------------------------------------------------------------------*
FORM create_cust_obj  USING VALUE(p_con)
                      CHANGING co_obj TYPE REF TO cl_gui_custom_container.

  CREATE OBJECT co_obj
    EXPORTING
      container_name              = p_con
    EXCEPTIONS
      cntl_error                  = 1
      cntl_system_error           = 2
      create_error                = 3
      lifetime_error              = 4
      lifetime_dynpro_dynpro_link = 5
      OTHERS                      = 6.
  IF sy-subrc <> 0.
    MESSAGE a100(zmcss) WITH sy-uname. " 시스템 에러입니다. &에게 문의하세요!
  ENDIF.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  CREATE_SPLIT_OBJ_CUST
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*      -->P_GO_CUST_PO  text
*      -->P_1      text
*      -->P_2      text
*      <--P_GO_SPLIT_PO_MAIN  text
*----------------------------------------------------------------------*
FORM create_split_obj_cust    USING   VALUE(po_obj) TYPE REF TO cl_gui_custom_container
                                      VALUE(p_1) TYPE i
                                      VALUE(p_2) TYPE i
                              CHANGING co_split TYPE REF TO cl_gui_splitter_container.

  CREATE OBJECT co_split
    EXPORTING
      parent  = po_obj
      rows    = p_1
*     WIDTH   = 2000
      columns = p_2.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  GET_SPLIT_CONTAINER
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*      -->P_1      text
*      -->P_1      text
*      <--P_GO_SPLIT_PO_MAIN  text
*      <--P_GO_CON_MAIN  text
*----------------------------------------------------------------------*
FORM get_split_container  USING   VALUE(p_1) TYPE i
                                  VALUE(p_2) TYPE i
                          CHANGING co_split TYPE REF TO cl_gui_splitter_container
                                   co_obj TYPE REF TO cl_gui_container.

  CALL METHOD co_split->get_container
    EXPORTING
      row       = p_1
      column    = p_2
    RECEIVING
      container = co_obj.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  CREATE_SPLIT_OBJ
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*      -->P_GO_CON_PO_RIGHT  text
*      -->P_2      text
*      -->P_1      text
*      <--P_GO_SPLIT_PO_RIGHT  text
*----------------------------------------------------------------------*
FORM create_split_obj  USING    VALUE(po_obj) TYPE REF TO cl_gui_container
                                VALUE(p_1) TYPE i
                                VALUE(p_2) TYPE i
                       CHANGING co_split TYPE REF TO cl_gui_splitter_container.

  CREATE OBJECT co_split
    EXPORTING
      parent  = po_obj
      rows    = p_1
*     WIDTH   = 2000
      columns = p_2.
ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  CREATE_ALVS_0102
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM create_alvs_0102 .

  PERFORM create_alv USING go_con_main CHANGING go_alv_po_waiting.
  PERFORM create_alv USING go_con_po_top CHANGING go_alv_po_items.
  PERFORM create_alv USING go_con_po_bottom CHANGING go_alv_po_confirm.

  " class 설정
  PERFORM req_event_for_alv_0102.


ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  CREATE_ALV
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*      -->P_GO_CON_MAIN  text
*      <--P_GO_ALV_PO_WAITING  text
*----------------------------------------------------------------------*
FORM create_alv     USING    VALUE(po_con) TYPE REF TO cl_gui_container
                    CHANGING co_alv TYPE REF TO cl_gui_alv_grid.


  CREATE OBJECT co_alv
    EXPORTING
*     i_shellstyle      = 0
*     i_lifetime        =
*      i_appl_events     = 'X'
      i_parent          = po_con
    EXCEPTIONS
      error_cntl_create = 1
      error_cntl_init   = 2
      error_cntl_link   = 3
      error_dp_create   = 4
      OTHERS            = 5.
  IF sy-subrc <> 0.
    MESSAGE a100(zmcss) WITH sy-uname. " 시스템 에러입니다 &에게 문의해주세요!
  ENDIF.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  REQ_EVENT_FOR_ALV_0102
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM req_event_for_alv_0102 .

  SET HANDLER :  lcl_event_handler=>handle_toolbar FOR go_alv_po_waiting,
                 lcl_event_handler=>handle_user_command FOR go_alv_po_waiting,
*                 lcl_layout_builder=>create for go_alv_po_waiting,
                 lcl_event_handler=>handle_user_command FOR go_alv_po_items,
                 lcl_event_handler=>handle_toolbar FOR go_alv_po_items,
                 lcl_event_handler=>handle_data_changed FOR go_alv_po_items.
*
  CALL METHOD go_alv_po_items->register_edit_event
    EXPORTING
      i_event_id = cl_gui_alv_grid=>mc_evt_modified.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  SET_EXCLUDE_BTN
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM set_exclude_btn .
  REFRESH gt_exclude.
  DATA : ls_excl TYPE ui_func,
         lt_excl TYPE ui_functions.

  ls_excl = cl_gui_alv_grid=>mc_fc_excl_all.
  APPEND ls_excl TO gt_exclude.


ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  DISPLAY_ALVS_0102
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM display_alvs_0102 .

  PERFORM set_tab_fdp_with_exclude USING 'ZSSSMM0212' gs_layo gt_exclude CHANGING gt_podata gt_fcat gt_sort go_alv_po_waiting.
  PERFORM set_tab_fdp_with_exclude USING 'ZSSSMM0213' gs_layo2 gt_exclude CHANGING gt_item gt_fcat2 gt_sort go_alv_po_items.
  PERFORM set_tab_fdp_with_exclude USING 'ZSSSMM0213' gs_layo3 gt_exclude CHANGING gt_confirm gt_fcat3 gt_sort go_alv_po_confirm.


ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  SET_TAB_FDP_WITH_EXCLUDE
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*      -->P_0399   text
*      -->P_GS_LAYO  text
*      -->P_GT_EXCLUDE  text
*      <--P_GT_PODATA  text
*      <--P_GT_FCAT  text
*      <--P_GT_SORT  text
*      <--P_GO_ALV_WAITPO  text
*----------------------------------------------------------------------*
FORM set_tab_fdp_with_exclude  USING    VALUE(p_structure) TYPE dd02l-tabname
                                        VALUE(ps_layout) TYPE lvc_s_layo
                                        VALUE(pt_exclude) TYPE ui_functions
                               CHANGING ct_outtab TYPE STANDARD TABLE
                                        ct_fcat TYPE lvc_t_fcat
                                        ct_sort TYPE lvc_t_sort
                                        co_alv TYPE REF TO cl_gui_alv_grid.

  co_alv->set_table_for_first_display(
     EXPORTING
       i_structure_name = p_structure
       is_layout = ps_layout
       it_toolbar_excluding = pt_exclude
     CHANGING
       it_outtab = ct_outtab
       it_fieldcatalog = ct_fcat
       it_sort = ct_sort
     EXCEPTIONS
       invalid_parameter_combination = 1
       program_error = 23
       too_many_lines = 3
       OTHERS = 4
   ).
  IF sy-subrc <> 0.
    MESSAGE a100(zmcss) WITH sy-uname. " 시스템 오류입니다. 담당자 &에게 문의해주세요!
  ENDIF.
ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  REFRESH_ALV_0102
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM refresh_alv_0102 .

  PERFORM refresh_table_display CHANGING go_alv_po_waiting.
  PERFORM refresh_table_display CHANGING go_alv_po_items.
  PERFORM refresh_table_display CHANGING go_alv_po_confirm.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  REFRESH_TABLE_DISPLAY
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*      <--P_GO_ALV_PO_WAITING  text
*----------------------------------------------------------------------*
FORM refresh_table_display  CHANGING co_alv TYPE REF TO cl_gui_alv_grid.

  co_alv->refresh_table_display(
    i_soft_refresh = 'X'
*  is_stable = 'X'
    ).
  IF sy-subrc <> 0.
    MESSAGE a100(zmcss) WITH sy-uname. " 시스템 오류 : 담당자 &에게 문의하세요!
  ENDIF.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  SET_ROW_HEIGHT
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*      -->P_1      text
*      -->P_30     text
*      <--P_GO_SPLIT_POMAIN  text
*----------------------------------------------------------------------*
FORM set_row_height  USING VALUE(p_id)
                           VALUE(p_ratio)
                     CHANGING co_split TYPE REF TO cl_gui_splitter_container.


  CALL METHOD co_split->set_row_height
    EXPORTING
      id     = p_id        " 첫 번째 행
      height = p_ratio.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  SET_COL_WIDTH
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*      -->P_1      text
*      -->P_40     text
*      <--P_GO_SPLIT_POMAIN  text
*----------------------------------------------------------------------*
FORM set_col_width  USING VALUE(p_id)
                          VALUE(p_ratio)
                     CHANGING co_split TYPE REF TO cl_gui_splitter_container.

  CALL METHOD co_split->set_column_width
    EXPORTING
      id    = p_id        " 첫 번째 행
      width = p_ratio.      " 50%

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  SET_ALV_0101
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM set_alv_0101 .
  DATA : go_cust_gr    TYPE REF TO cl_gui_custom_container,
         go_con_grmain TYPE REF TO cl_gui_container.

  DATA : go_split_gr_main TYPE REF TO cl_gui_splitter_container.

  DATA : go_con_gr_right TYPE REF TO cl_gui_container.

  DATA : go_alv_gr_list TYPE REF TO cl_gui_alv_grid,
         go_alv_gr_item TYPE REF TO cl_gui_alv_grid.


  IF go_cust_gr IS INITIAL.
    PERFORM init_alv_0101.
  ELSE.
    PERFORM refresh_alv_0101.

  ENDIF.


ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  INIT_ALV_0101
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM init_alv_0101 .
  PERFORM create_container_0101.
  PERFORM create_alvs_0101.
  PERFORM display_alvs_0101.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  CREATE_CONTAINER_0101
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM create_container_0101 .


  PERFORM create_cust_obj  USING 'CON_101' CHANGING go_cust_gr.
  PERFORM create_split_obj_cust USING go_cust_gr 2 1 CHANGING go_split_gr_main.
  PERFORM get_split_container USING 1 1 CHANGING go_split_gr_main go_con_gr_top.
  PERFORM get_split_container USING 2 1 CHANGING go_split_gr_main go_con_gr_bottom.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  CREATE_ALVS_0101
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM create_alvs_0101 .
  PERFORM create_alv USING go_con_gr_top CHANGING go_alv_gr_list.
  PERFORM create_alv USING go_con_gr_bottom CHANGING go_alv_gr_item.
ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  DISPLAY_ALVS_0101
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM display_alvs_0101 .

  PERFORM set_tab_fdp_with_exclude USING 'ZSSSMM0211' gs_layo5 gt_exclude CHANGING gt_grdata gt_fcat5 gt_sort go_alv_gr_list.
  PERFORM set_tab_fdp_with_exclude USING 'ZSSSMM0216' gs_layo6 gt_exclude CHANGING gt_gritem gt_fcat6 gt_sort go_alv_gr_item.

ENDFORM.
*&---------------------------------------------------------------------*
*&      Form  REFRESH_ALV_0101
*&---------------------------------------------------------------------*
*       text
*----------------------------------------------------------------------*
*  -->  p1        text
*  <--  p2        text
*----------------------------------------------------------------------*
FORM refresh_alv_0101 .
  PERFORM refresh_table_display CHANGING go_alv_gr_list.
  PERFORM refresh_table_display CHANGING go_alv_gr_item.
ENDFORM.

----------------------------------------------------------------------------------
Extracted by Mass Download version 1.5.5 - E.G.Mellodew. 1998-2025. Sap Release 750
